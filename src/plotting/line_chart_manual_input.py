import matplotlib.pyplot as plt
from matplotlib import rcParams
rcParams['font.family'] = 'serif'
rcParams['font.serif'] = ['CMU Serif']
import numpy as np
from datetime import datetime
import os

# 2 columns, 9 per 6 inches figure
fig, ax1 = plt.subplots(figsize=(5, 4))

x = [0.125, 0.250, 0.375, 0.5, 0.625, 0.75, 0.875, 1, 1.125, 1.25, 1.375, 1.5]

# N = 16
# try1 = [18.843509518454425, 1.0647482646071105, 1.0404363454609564, 1.0984542789970648, 1.0629485594831503, 1.1137820992060654, 1.0857642348226093, 1.115346226262037, 1.0857642348226093, 1.092361554481774, 1.109770059491166, 1.0743999075141863]

# try2 = [2.3136228338368166, 1.0984542789970648, 1.0926442189840906, 1.1093296591783475, 1.0820694593790943, 1.0721887251507554, 1.0984542789970648, 1.0976885846407205, 1.0789165708294632, 1.0743999075141863, 1.1165788687825835, 1.1263482082890073]

# try3 = [1.3500425144227368, 1.069745339063699, 1.0231579407518552, 1.0289432135319816, 1.0629485594831503, 1.133882541964168, 1.1339184786108771, 1.133882541964168, 1.0629485594831503, 1.0629485594831503, 1.0743999075141863, 1.0851007984659289]

# default = [1.0629485594831503, 1.092361554481774, 1.0289432135319816, 1.0180817613156485, 1.0629485594831503, 1.048202312763938, 1.0629485594831503, 1.0721887251507554, 1.0984542789970648, 1.0231579407518552, 1.092361554481774, 1.069745339063699]


# N = 32
# try1 = [1.7671275436496574, 1.1782482023709757, 1.2029414035240735, 1.3200547844300887, 1.268649177969955, 1.4287317627233977, 1.4303817096984854, 1.249906129579693, 1.1422717433228369, 1.3549846581807397, 1.3516572783509953, 1.344959035495115]

# try2 = [1.8134742243053803, 1.255686550034858, 1.3358991833334035, 1.256524928280811, 1.3219751404965527, 1.2987651292799518, 1.306911935302348, 1.349562408768608, 1.3270979326640375, 1.2659101376161563, 1.1976557552791056, 1.3250756373916657]

# try3 = [1.760216177498433, 1.2659154636840475, 1.2353742526034106, 1.3254376839864432, 1.2900933054748986, 1.2647557853125957, 1.229242335137498, 1.2522750616411138, 1.2480915501293985, 1.303380616394438, 1.242850442805963, 1.3733284378671191]

# default = [1.9672283318399104, 2.000208156727025, 1.5057984665883457, 1.7313780537119778, 1.7583356077077361, 1.583550495324147, 1.7515512359533156, 1.8688823793978162, 1.863895563897313, 1.6631307077366522, 1.7391268963075481, 1.7278797939717365]

# N = 64
# try1 = [1.9774307956882358, 1.4743294945004684, 1.580145946635377, 1.4820727539408425, 1.4098712362667905, 1.5225028159084528, 1.587180479333992, 1.5258955507796161, 1.538827032432193, 1.6098840672280033, 1.4650357779288539, 1.422878239276877]

# try2 = [2.1851385487412682, 1.5500354537738046, 1.4915331666513658, 1.5015229681313491, 1.5033019929392606, 1.5159587943804131, 1.4885052546202602, 1.4851753489907464, 1.4298959198372863, 1.5490137563614215, 1.5079256441227162, 1.5967496947585993]

# try3 = [1.9058837729018316, 1.4623579416207215, 1.5832063535342096, 1.5141936012029085, 1.5508953044411309, 1.4581109788852094, 1.5151351989708362, 1.5363441111928833, 1.5465274312358201, 1.5233432190737382, 1.5602675705547548, 1.5187856122271282]

# default = [2.0219766490363518, 2.0083955641477678, 2.050651504630772, 1.9425289723714714, 2.0143853558614717, 1.9996298119483003, 2.0348651357355068, 1.907129840169096, 1.9210138346236325, 2.034906949518788, 1.9808823593691434, 1.9877524480633713]

# S2 N = 16
# try1 = [1.2721055460286927, 1.0629485594831503, 1.0851007984659289, 1.0929341286718603, 1.0955765438881906, 1.0840772856257392, 1.069745339063699, 1.0966294601025297, 1.0629485594831503, 1.109770059491166, 1.09327738206463, 1.1207901380109266]

# try2 = [2.3136228338368166, 1.0629485594831503, 1.0629485594831503, 1.0629485594831503, 1.0544341068371783, 1.0984880050061543, 1.0629485594831503, 1.127905660782252, 1.0840772856257392, 1.1024229279374809, 1.109770059491166, 1.109792626950026]

# try3 = [2.3136228338368166, 1.0629485594831503, 1.0851007984659289, 1.1024229279374809, 1.0629485594831503, 1.087691521268587, 1.1321714995356205, 1.0955765438881906, 1.0629485594831503, 1.069745339063699, 1.078642972376386, 1.1549673514293395]

# default = [1.0995747506079512, 1.0180817613156485, 1.0419059109202746, 1.0629485594831503, 1.0, 1.0629485594831503, 1.0697773251747045, 1.05128426385391, 1.0119569658170224, 1.069745339063699, 1.0629485594831503, 1.0629485594831503]

# S2 N = 32
# try1 = [1.793020541975455, 1.1789151862570266, 1.1956602686362032, 1.2124458481200389, 1.37792767158085, 1.3099652061740197, 1.316686881771525, 1.3082080910007408, 1.2451668425200362, 1.303219913042964, 1.2634968455368922, 1.3027828619049604]

# try2 = [1.5451436616388636, 1.2479086429919077, 1.133222565828606, 1.3407215680462325, 1.2934359366430725, 1.3157187198112168, 1.2831320091128253, 1.360584785317546, 1.4123610226856478, 1.2906493012782974, 1.2398837422427236, 1.3080014294484785]

# try3 = [1.5194970298851114, 1.2028028177180605, 1.2821869856239652, 1.2880270117411523, 1.316888217341363, 1.1682424714078363, 1.2448330331134223, 1.2835246110585135, 1.3725499733697972, 1.343537305613429, 1.2076985385887749, 1.3126716860652088]

# default = [1.6763336304890957, 1.7771796308243937, 1.8424453979339548, 2.0905236307233075, 1.7533206166692634, 1.957867634667966, 1.5355360331444234, 2.255611657012633, 1.9007224859874636, 2.0647028908016694, 1.8424453979339548, 1.629767821136589]

# S2 N = 64
try1 = [1.986329834401519, 1.486583359272373, 1.3524996841282309, 1.4336485656535076, 1.5060579936722087, 1.418726656731225, 1.5475246108519138, 1.4397301470877466, 1.5472530101563389, 1.4727453945958708, 1.5774027194882148, 1.4693902890624955]

try2 = [2.0099606719340466, 1.444016509416228, 1.5225790438207099, 1.5837662512206132, 1.5067771911851469, 1.4192932657426183, 1.554715397104865, 1.5245757609593258, 1.5828585204135772, 1.5376856655865738, 1.4657358851317286, 1.4431542012646998]

try3 = [1.9651108203935101, 1.4262039355621872, 1.5776521481536423, 1.5447746987929434, 1.4101154485961016, 1.5039513399666293, 1.484502184248606, 1.4642548682762924, 1.5396391431597805, 1.540894795622208, 1.5977524138649903, 1.4303908373149499]

default = [2.0269534483559117, 2.0083955641477678, 2.049154763369943, 2.023755355257351, 2.027500939149575, 2.026631088723907, 1.984317303569233, 2.0366502578827936, 1.8906499795600638, 2.0645687554452703, 2.0348177210344485, 2.08364317871644]

# Try 1
ax1.plot(x, try1, label='execution 1', color='mistyrose')

# Try 2
ax1.plot(x, try2, label='execution 2', color='navajowhite')

# Try 3
ax1.plot(x, try3, label='execution 3', color='lavender')

# Avg
ax1.plot(x, np.mean([try1, try2, try3], axis=0), label='mean of executions', color='black')

# Default chain strength
ax1.plot([0, 0.125, 0.250, 0.375, 0.5, 0.625, 0.75, 0.875, 1, 1.125, 1.25, 1.375, 1.5], [np.mean(default)] * 13, label='mean of default', color='r')

# Tidy up the figure
# (ax1_bottom, ax1_top) = ax1.get_ylim()

ax1.grid(axis='y')
# ax1.set_title(title)
ax1.set_xlim(0, 1.5)
ax1.set_ylim(1, 2.1)
ax1.set_ylabel('$\epsilon$-indicator')
ax1.set_xlabel('Chain strength as a factor of $\mathregular{M_Q}$')
ax1.set_xticks([0, 0.250, 0.5, 0.75, 1, 1.25, 1.5])
ax1.legend(loc='upper right')


# Get timestamp
date_obj = datetime.now()
date = 'Y{:04}M{:02}D{:02}h{:02}m{:02}s{:02}'.format(
    date_obj.year, date_obj.month, date_obj.day, date_obj.hour, date_obj.minute, date_obj.second)

folder_name = 'line_chart_manual_input'

# Check if folder exists and creates if not
if not os.path.exists('images/' + folder_name):
    os.makedirs('images/' + folder_name)

# fig.text(0.5, 0.005, 'How to interpret: The epsilon indicator is the minimum factor by which the annealer set has to be multiplied in the objective so as to weakly dominate the classical set.\nHence, the closer to 1 is the epsilon indicator, the better the annealer set.',
#          ha='center', size='xx-small')

output_name = f'{date}'
# fig.suptitle('Boxplots - ' + output_name)

# Save as 2 1 6 0p image
plt.savefig(
    f'images/{folder_name}/{output_name}.pdf', dpi=360)
plt.show()
