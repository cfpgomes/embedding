import matplotlib.pyplot as plt
from matplotlib import rcParams
rcParams['font.family'] = 'serif'
rcParams['font.serif'] = ['CMU Serif']
import numpy as np
from datetime import datetime
import os

# 2 columns, 9 per 6 inches figure
fig, ax1 = plt.subplots(figsize=(5, 4))

x = [0.125, 0.250, 0.375, 0.5, 0.625, 0.75, 0.875, 1, 1.125, 1.25, 1.375, 1.5]

# N = 16
# try1 = [18.843509518454425, 1.0647482646071105, 1.0404363454609564, 1.0984542789970648, 1.0629485594831503, 1.1137820992060654, 1.0857642348226093, 1.115346226262037, 1.0857642348226093, 1.092361554481774, 1.109770059491166, 1.0743999075141863]

# try2 = [2.3136228338368166, 1.0984542789970648, 1.0926442189840906, 1.1093296591783475, 1.0820694593790943, 1.0721887251507554, 1.0984542789970648, 1.0976885846407205, 1.0789165708294632, 1.0743999075141863, 1.1165788687825835, 1.1263482082890073]

# try3 = [1.3500425144227368, 1.069745339063699, 1.0231579407518552, 1.0289432135319816, 1.0629485594831503, 1.133882541964168, 1.1339184786108771, 1.133882541964168, 1.0629485594831503, 1.0629485594831503, 1.0743999075141863, 1.0851007984659289]

# default = [1.0629485594831503, 1.092361554481774, 1.0289432135319816, 1.0180817613156485, 1.0629485594831503, 1.048202312763938, 1.0629485594831503, 1.0721887251507554, 1.0984542789970648, 1.0231579407518552, 1.092361554481774, 1.069745339063699]


# N = 32
# try1 = [1.7671275436496574, 1.1782482023709757, 1.2029414035240735, 1.3200547844300887, 1.268649177969955, 1.4287317627233977, 1.4303817096984854, 1.249906129579693, 1.1422717433228369, 1.3549846581807397, 1.3516572783509953, 1.344959035495115]

# try2 = [1.8134742243053803, 1.255686550034858, 1.3358991833334035, 1.256524928280811, 1.3219751404965527, 1.2987651292799518, 1.306911935302348, 1.349562408768608, 1.3270979326640375, 1.2659101376161563, 1.1976557552791056, 1.3250756373916657]

# try3 = [1.760216177498433, 1.2659154636840475, 1.2353742526034106, 1.3254376839864432, 1.2900933054748986, 1.2647557853125957, 1.229242335137498, 1.2522750616411138, 1.2480915501293985, 1.303380616394438, 1.242850442805963, 1.3733284378671191]

# default = [1.9672283318399104, 2.000208156727025, 1.5057984665883457, 1.7313780537119778, 1.7583356077077361, 1.583550495324147, 1.7515512359533156, 1.8688823793978162, 1.863895563897313, 1.6631307077366522, 1.7391268963075481, 1.7278797939717365]

# N = 64
# try1 = [1.9774307956882358, 1.4743294945004684, 1.580145946635377, 1.4820727539408425, 1.4098712362667905, 1.5225028159084528, 1.587180479333992, 1.5258955507796161, 1.538827032432193, 1.6098840672280033, 1.4650357779288539, 1.422878239276877]

# try2 = [2.1851385487412682, 1.5500354537738046, 1.4915331666513658, 1.5015229681313491, 1.5033019929392606, 1.5159587943804131, 1.4885052546202602, 1.4851753489907464, 1.4298959198372863, 1.5490137563614215, 1.5079256441227162, 1.5967496947585993]

# try3 = [1.9058837729018316, 1.4623579416207215, 1.5832063535342096, 1.5141936012029085, 1.5508953044411309, 1.4581109788852094, 1.5151351989708362, 1.5363441111928833, 1.5465274312358201, 1.5233432190737382, 1.5602675705547548, 1.5187856122271282]

# default = [2.0219766490363518, 2.0083955641477678, 2.050651504630772, 1.9425289723714714, 2.0143853558614717, 1.9996298119483003, 2.0348651357355068, 1.907129840169096, 1.9210138346236325, 2.034906949518788, 1.9808823593691434, 1.9877524480633713]

# S2a N = 16

try1 = 

# Try 1
ax1.plot(x, try1, label='execution 1', color='mistyrose')

# Try 2
ax1.plot(x, try2, label='execution 2', color='navajowhite')

# Try 3
ax1.plot(x, try3, label='execution 3', color='lavender')

# Avg
ax1.plot(x, np.mean([try1, try2, try3], axis=0), label='mean of executions', color='black')

# Default chain strength
ax1.plot([0, 0.125, 0.250, 0.375, 0.5, 0.625, 0.75, 0.875, 1, 1.125, 1.25, 1.375, 1.5], [np.mean(default)] * 13, label='mean of default', color='r')

# Tidy up the figure
# (ax1_bottom, ax1_top) = ax1.get_ylim()

ax1.grid(axis='y')
# ax1.set_title(title)
ax1.set_xlim(0, 1.5)
ax1.set_ylim(1, 2)
ax1.set_ylabel('$\epsilon$-indicator')
ax1.set_xlabel('Chain strength as a factor of $\mathregular{M_Q}$')
ax1.set_xticks([0, 0.250, 0.5, 0.75, 1, 1.25, 1.5])
ax1.legend(loc='upper right')


# Get timestamp
date_obj = datetime.now()
date = 'Y{:04}M{:02}D{:02}h{:02}m{:02}s{:02}'.format(
    date_obj.year, date_obj.month, date_obj.day, date_obj.hour, date_obj.minute, date_obj.second)

folder_name = 'line_chart_manual_input'

# Check if folder exists and creates if not
if not os.path.exists('images/' + folder_name):
    os.makedirs('images/' + folder_name)

# fig.text(0.5, 0.005, 'How to interpret: The epsilon indicator is the minimum factor by which the annealer set has to be multiplied in the objective so as to weakly dominate the classical set.\nHence, the closer to 1 is the epsilon indicator, the better the annealer set.',
#          ha='center', size='xx-small')

output_name = f'{date}'
# fig.suptitle('Boxplots - ' + output_name)

# Save as 2 1 6 0p image
plt.savefig(
    f'images/{folder_name}/{output_name}.pdf', dpi=360)
plt.show()
